# SQL Scripts

このディレクトリには、データベースのセットアップとメンテナンス用のSQLスクリプトが含まれています。

## ファイル一覧

### `supabase-schema.sql`
- **用途**: データベースの初期セットアップ
- **内容**: 
  - `books`テーブルの作成
  - ASINカラムの追加
  - RLS（Row Level Security）の設定
  - ポリシーの作成
  - インデックスの作成
- **実行タイミング**: プロジェクト初期設定時

### `update-existing-asin.sql`
- **用途**: 既存データのASINカラム初期化
- **内容**:
  - 既存データのASINを空文字列で初期化
  - 確認用クエリ
- **実行タイミング**: 既存データがある場合の移行時

## 実行手順

1. **新規プロジェクトの場合**:
   ```sql
   -- supabase-schema.sql を実行
   ```

2. **既存データがある場合**:
   ```sql
   -- 1. supabase-schema.sql を実行
   -- 2. update-existing-asin.sql を実行
   ```

## 注意事項

- 本番環境で実行する前に、必ずテスト環境で動作確認を行ってください
- 既存データがある場合は、バックアップを取ってから実行してください
